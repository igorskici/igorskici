{"ast":null,"code":"import _objectSpread from\"D:\\\\Udemy\\\\ReactApp\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import{REGISTER_SUCCESS,REGISTER_FAIL,USER_LOADED,AUTH_ERROR,LOGIN_SUCCESS,LOGIN_FAIL,LOG_OUT,DELETE_ACCOUNT}from'../actions/types';var initialState={token:localStorage.getItem('token'),isAuthenicated:null,loading:true,user:null};export default function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;var type=action.type,payload=action.payload;console.log(\"TYPE ACTION: \"+type);switch(type){case REGISTER_SUCCESS:case LOGIN_SUCCESS:localStorage.setItem('token',payload.token);return _objectSpread({},state,{},payload,{isAuthenicated:true,loading:false});case REGISTER_FAIL:case AUTH_ERROR:case LOGIN_FAIL:case LOG_OUT:case DELETE_ACCOUNT:localStorage.removeItem('token');return _objectSpread({},state,{token:null,isAuthenicated:false,loading:false});case USER_LOADED:return _objectSpread({},state,{isAuthenicated:true,loading:false,user:payload});default:return state;}}","map":{"version":3,"sources":["D:/Udemy/ReactApp/client/src/reducers/auth.js"],"names":["REGISTER_SUCCESS","REGISTER_FAIL","USER_LOADED","AUTH_ERROR","LOGIN_SUCCESS","LOGIN_FAIL","LOG_OUT","DELETE_ACCOUNT","initialState","token","localStorage","getItem","isAuthenicated","loading","user","state","action","type","payload","console","log","setItem","removeItem"],"mappings":"gHAAA,OACIA,gBADJ,CAEIC,aAFJ,CAGIC,WAHJ,CAIIC,UAJJ,CAKIC,aALJ,CAMIC,UANJ,CAOIC,OAPJ,CAQIC,cARJ,KASO,kBATP,CAWA,GAAMC,CAAAA,YAAY,CAAG,CACjBC,KAAK,CAACC,YAAY,CAACC,OAAb,CAAqB,OAArB,CADW,CAEjBC,cAAc,CAAC,IAFE,CAGjBC,OAAO,CAAE,IAHQ,CAIjBC,IAAI,CAAC,IAJY,CAArB,CAOA,cAAe,WAAsC,IAA7BC,CAAAA,KAA6B,2DAArBP,YAAqB,IAAPQ,CAAAA,MAAO,8CAE9CC,CAAAA,IAF8C,CAE7BD,MAF6B,CAE9CC,IAF8C,CAExCC,OAFwC,CAE7BF,MAF6B,CAExCE,OAFwC,CAKrDC,OAAO,CAACC,GAAR,CAAY,gBAAkBH,IAA9B,EAEI,OAAOA,IAAP,EAGI,IAAKjB,CAAAA,gBAAL,CACA,IAAKI,CAAAA,aAAL,CACIM,YAAY,CAACW,OAAb,CAAqB,OAArB,CAA8BH,OAAO,CAACT,KAAtC,EACA,wBACOM,KADP,IAEOG,OAFP,EAGIN,cAAc,CAAC,IAHnB,CAIIC,OAAO,CAAC,KAJZ,GAMJ,IAAKZ,CAAAA,aAAL,CACA,IAAKE,CAAAA,UAAL,CACA,IAAKE,CAAAA,UAAL,CACA,IAAKC,CAAAA,OAAL,CACA,IAAKC,CAAAA,cAAL,CACIG,YAAY,CAACY,UAAb,CAAwB,OAAxB,EACA,wBACOP,KADP,EAEIN,KAAK,CAAC,IAFV,CAGIG,cAAc,CAAC,KAHnB,CAIIC,OAAO,CAAC,KAJZ,GAMJ,IAAKX,CAAAA,WAAL,CACQ,wBACOa,KADP,EAEIH,cAAc,CAAC,IAFnB,CAGIC,OAAO,CAAC,KAHZ,CAIIC,IAAI,CAAEI,OAJV,GAOJ,QACI,MAAOH,CAAAA,KAAP,CAjCZ,CAoCH","sourcesContent":["import {\r\n    REGISTER_SUCCESS,\r\n    REGISTER_FAIL,\r\n    USER_LOADED,\r\n    AUTH_ERROR,\r\n    LOGIN_SUCCESS,\r\n    LOGIN_FAIL,\r\n    LOG_OUT,\r\n    DELETE_ACCOUNT\r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n    token:localStorage.getItem('token'),\r\n    isAuthenicated:null,\r\n    loading: true,\r\n    user:null\r\n}\r\n\r\nexport default function(state = initialState, action){\r\n\r\nconst {type, payload} = action; \r\n\r\n\r\nconsole.log(\"TYPE ACTION: \" + type);\r\n\r\n    switch(type){\r\n\r\n        \r\n        case REGISTER_SUCCESS:\r\n        case LOGIN_SUCCESS:\r\n            localStorage.setItem('token', payload.token);\r\n            return{\r\n                ...state,\r\n                ...payload,\r\n                isAuthenicated:true,\r\n                loading:false\r\n            }\r\n        case REGISTER_FAIL:\r\n        case AUTH_ERROR:\r\n        case LOGIN_FAIL:\r\n        case LOG_OUT:\r\n        case DELETE_ACCOUNT:\r\n            localStorage.removeItem('token');\r\n            return{\r\n                ...state,\r\n                token:null,\r\n                isAuthenicated:false,\r\n                loading:false\r\n            }\r\n        case USER_LOADED:\r\n                return{\r\n                    ...state,\r\n                    isAuthenicated:true,\r\n                    loading:false,\r\n                    user: payload\r\n                };\r\n\r\n            default:\r\n                return state;\r\n    }\r\n\r\n}"]},"metadata":{},"sourceType":"module"}